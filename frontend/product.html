<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Product Details</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="hamburger.css">
    <link rel="stylesheet" href="product.css">
</head>

<body>

    <nav>
        <a href="index.html" style="text-decoration: none;">
            <h1>Foot Mart</h1>
        </a>
        <button class="hamburger" id="hamburger" aria-label="Menu">
            <span></span>
            <span></span>
            <span></span>
        </button>
        <div class="nav-content" id="nav-content">
            <ul id="nav-links">
                <li><a href="index.html">Home</a></li>
                <li><a href="men.html">Men</a></li>
                <li><a href="women.html">Women</a></li>
                <li><a href="kids.html">Kids</a></li>
            </ul>
        </div>
        <form id="nav-search-form" class="nav-search" autocomplete="off">
            <input type="search" id="nav-search-input" placeholder="Search Nike shoes" aria-label="Search Nike shoes">
            <button type="submit">Search</button>
        </form>
        <div id="cart" class="cart" onclick="window.location.href='cart.html'">
            ðŸ›’ Cart (<span id="cart-count">0</span>)
        </div>
        <button class="toggle">ðŸŒ™ Dark Mode</button>
        <button id="login-link" class="login" onclick="window.location.href='login.html'">Login / Register</button>

        <div id="profile" class="hidden">
            <button id="profile-btn" aria-haspopup="true" aria-expanded="false">ðŸ‘¤</button>
            <div id="profile-menu" class="profile-menu hidden">
                <p id="profile-name"></p>
                <button id="edit-details">Edit details</button>
                <button id="change-password">Change Password</button>
                <button id="logout">Logout</button>
            </div>
        </div>
    </nav>

    <main class="product-wrap">
        <div class="product-media">
            <img id="product-img" src="">
        </div>

        <div class="product-info">
            <h2 id="product-name"></h2>
            <p id="product-desc"></p>

            <ul id="product-meta" class="product-meta"></ul>

            <div class="size-options">
                <label>Select Size:</label>
                <div class="sizes">
                    <button class="size-btn">6</button>
                    <button class="size-btn">7</button>
                    <button class="size-btn">8</button>
                    <button class="size-btn">9</button>
                    <button class="size-btn">10</button>
                </div>
            </div>

            <br>
            <span id="product-price" class="price"></span>
            <br>

            <!-- Hidden product-card wrapper for cart functionality -->
            <div id="product-card-wrapper" class="product-card" style="display: inline-block;">
                <img style="display:none;">
                <h3 style="display:none;"></h3>
                <span class="price" style="display:none;"></span>
                <button id="add-cart-btn" class="buynow">Add to Cart</button>
            </div>
        </div>
    </main>

    <script src="product.js"></script>
    <script src="operation.js"></script>

    <script>
        // Update the hidden product-card wrapper when product data loads
        // Using a different variable name to avoid conflict with product.js global 'productPromise'
        const localProductPromise = resolveProduct(new URLSearchParams(window.location.search).get("id"));

        localProductPromise.then((product) => {
            if (!product) return;

            const wrapper = document.getElementById("product-card-wrapper");
            const productId = new URLSearchParams(location.search).get("id");

            // Set data-id attribute
            wrapper.setAttribute("data-id", productId);

            // Update hidden elements directly from product data
            const img = wrapper.querySelector("img");
            const h3 = wrapper.querySelector("h3");
            const price = wrapper.querySelector(".price");

            img.src = product.img;
< !DOCTYPE html >
                <html lang="en">

                    <head>
                        <meta charset="UTF-8">
                            <meta name="viewport" content="width=device-width, initial-scale=1.0">
                                <title>Product Details</title>
                                <link rel="stylesheet" href="style.css">
                                    <link rel="stylesheet" href="hamburger.css">
                                        <link rel="stylesheet" href="product.css">
                                        </head>

                                        <body>

                                            <nav>
                                                <a href="index.html" style="text-decoration: none;">
                                                    <h1>Foot Mart</h1>
                                                </a>
                                                <button class="hamburger" id="hamburger" aria-label="Menu">
                                                    <span></span>
                                                    <span></span>
                                                    <span></span>
                                                </button>
                                                <div class="nav-content" id="nav-content">
                                                    <ul id="nav-links">
                                                        <li><a href="index.html">Home</a></li>
                                                        <li><a href="men.html">Men</a></li>
                                                        <li><a href="women.html">Women</a></li>
                                                        <li><a href="kids.html">Kids</a></li>
                                                    </ul>
                                                </div>
                                                <form id="nav-search-form" class="nav-search" autocomplete="off">
                                                    <input type="search" id="nav-search-input" placeholder="Search Nike shoes" aria-label="Search Nike shoes">
                                                        <button type="submit">Search</button>
                                                </form>
                                                <div id="cart" class="cart" onclick="window.location.href='cart.html'">
                                                    ðŸ›’ Cart (<span id="cart-count">0</span>)
                                                </div>
                                                <button class="toggle">ðŸŒ™ Dark Mode</button>
                                                <button id="login-link" class="login" onclick="window.location.href='login.html'">Login / Register</button>

                                                <div id="profile" class="hidden">
                                                    <button id="profile-btn" aria-haspopup="true" aria-expanded="false">ðŸ‘¤</button>
                                                    <div id="profile-menu" class="profile-menu hidden">
                                                        <p id="profile-name"></p>
                                                        <button id="edit-details">Edit details</button>
                                                        <button id="change-password">Change Password</button>
                                                        <button id="logout">Logout</button>
                                                    </div>
                                                </div>
                                            </nav>

                                            <main class="product-wrap">
                                                <div class="product-media">
                                                    <img id="product-img" src="">
                                                </div>

                                                <div class="product-info">
                                                    <h2 id="product-name"></h2>
                                                    <p id="product-desc"></p>

                                                    <ul id="product-meta" class="product-meta"></ul>

                                                    <div class="size-options">
                                                        <label>Select Size:</label>
                                                        <div class="sizes">
                                                            <button class="size-btn">6</button>
                                                            <button class="size-btn">7</button>
                                                            <button class="size-btn">8</button>
                                                            <button class="size-btn">9</button>
                                                            <button class="size-btn">10</button>
                                                        </div>
                                                    </div>

                                                    <br>
                                                        <span id="product-price" class="price"></span>
                                                        <br>

            <!-- Hidden product-card wrapper for cart functionality -->
                                                            <div id="product-card-wrapper" class="product-card" style="display: inline-block;">
                                                                <img style="display:none;">
                                                                    <h3 style="display:none;"></h3>
                                                                    <span class="price" style="display:none;"></span>
                                                                    <button id="add-cart-btn" class="buynow">Add to Cart</button>
                                                            </div>
                                                        </div>
                                                    </main>

                                                    <script src="product.js"></script>
    <script src="operation.js"></script>

    <script>
        // Update the hidden product-card wrapper when product data loads
                                            // Using a different variable name to avoid conflict with product.js global 'productPromise'
                                            const localProductPromise = resolveProduct(new URLSearchParams(window.location.search).get("id"));

        localProductPromise.then((product) => {
            if (!product) return;

                                            const wrapper = document.getElementById("product-card-wrapper");
                                            const productId = new URLSearchParams(location.search).get("id");

                                            // Set data-id attribute
                                            wrapper.setAttribute("data-id", productId);

                                            // Update hidden elements directly from product data
                                            const img = wrapper.querySelector("img");
                                            const h3 = wrapper.querySelector("h3");
                                            const price = wrapper.querySelector(".price");

                                            img.src = product.img;
                                            h3.textContent = product.name;
                                            price.textContent = product.price;
        });
    </script>

    <!-- Mobile Bottom Navigation -->
    <div class="bottom-nav">
        <a href="index.html" class="bottom-nav-item">
            <span class="icon">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                    stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path>
                    <polyline points="9 22 9 12 15 12 15 22"></polyline>
                </svg>
            </span>
            <span>Home</span>
        </a>
        <a href="cart.html" class="bottom-nav-item">
            <span class="icon">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                    stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <circle cx="9" cy="21" r="1"></circle>
                    <circle cx="20" cy="21" r="1"></circle>
                    <path d="M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"></path>
                </svg>
            </span>
            <span>Cart</span>
        </a>
        <a href="login.html" class="bottom-nav-item">
            <span class="icon">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                    stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
                    <circle cx="12" cy="7" r="4"></circle>
                </svg>
            </span>
            <span>Account</span>
        </a>
    </div>
</body>

</html>